{% extends "index.html" %}

{% block style %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/auth.css') }}">
{% endblock %}


{% block content %}
<div class="auth__container roboto-700">
    <form action="" method="POST" class="form">
        <h1 class="header">Register</h1>
        {{ form.hidden_tag() }}

        <div class="input__box">
            {{ form.username.label(class="form-label") }}
            {{ form.username(size=20, class="form-control") }}
            {% for error in form.username.errors %}
                <div class="invalid roboto-400">
                    {{ error }}
                </div>
            {% endfor %}
        </div>
        <div class="input__box">
            {{ form.email.label(class="form-label") }}
            {{ form.email(size=20, class="form-control") }}
            {% for error in form.email.errors %}
                <div class="invalid roboto-400">
                    {{ error }}
                </div>
            {% endfor %}
        </div>
        <div class="input__box">
            {{ form.password.label(class="form-label") }}
            {{ form.password(size=20, class="form-control") }}
            {% for error in form.password.errors %}
                <div class="invalid roboto-400">
                    {{ error }}
                </div>
            {% endfor %}
        </div>
        <a href="{{ url_for('login') }}" class="link">Do you have an account ?</a>
        {{ form.submit(class="submit__btn") }}
    </form>
</div>
{% endblock %}

{% block script %}
    <script>
        const usernameInput = document.querySelector("#username"); // Input alanına uygun seçiciyi burada kullanın
        const passwordInput = document.querySelector("#password");
        const emailInput = document.querySelector("#email");

        usernameInput.addEventListener("input", hideErrorMessage);

        passwordInput.addEventListener("input", hideErrorMessage);

        emailInput.addEventListener("input", hideErrorMessage);

        function hideErrorMessage() {
            this.nextElementSibling.style.display = "none"; // Hata mesajını gizle
        }
    </script>
{% endblock %}